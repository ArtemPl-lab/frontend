{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\User\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\learning\\\\vseotzivu\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\User\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\learning\\\\vseotzivu\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\User\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\learning\\\\vseotzivu\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useAPI}from'../../hooks/api.hook';import Spinner from'../Spinners/Spinner';import CommentCards from'./CommentCards';import CommentForm from'./CommentForm';var PostPage=function PostPage(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),postData=_useState2[0],setPostData=_useState2[1];var _useAPI=useAPI(),loading=_useAPI.loading,request=_useAPI.request;var postUrl=props.match.params.url;useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return request('/api/posts/get/review-data','POST',JSON.stringify({url:postUrl}));case 2:response=_context.sent;setPostData(response);case 4:case\"end\":return _context.stop();}}},_callee);})),[postUrl]);if(loading)return/*#__PURE__*/React.createElement(Spinner,null);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\"},/*#__PURE__*/React.createElement(\"h2\",null,postData.title)),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body lead\",style:{minHeight:\"297px\"}},postData.content),/*#__PURE__*/React.createElement(\"ul\",{className:\"list-group list-group-flush\"},postData.organisation?/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item\"},\"\\u041E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F - \",postData.organisation):'',postData.address?/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item\"},\"\\u0410\\u0434\\u0440\\u0435\\u0441 - \",postData.address):'',postData.phone?/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item\"},\"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D - \",postData.phone):'',postData.email?/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item\"},\"E-mail - \",postData.email):'',postData.site?/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item\"},\"\\u0421\\u0430\\u0439\\u0442 - \",postData.site):'',postData.tags?/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item\"},\"\\u0422\\u0435\\u0433\\u0438 - \",postData.tags):'')),/*#__PURE__*/React.createElement(CommentForm,{post:postData})),/*#__PURE__*/React.createElement(CommentCards,{postId:postData._id}));};export default PostPage;","map":{"version":3,"sources":["C:/Users/User/OneDrive/Рабочий стол/learning/vseotzivu/frontend/src/components/PostPage/PostPage.jsx"],"names":["React","useEffect","useState","useAPI","Spinner","CommentCards","CommentForm","PostPage","props","postData","setPostData","loading","request","postUrl","match","params","url","JSON","stringify","response","title","minHeight","content","organisation","address","phone","email","site","tags","_id"],"mappings":"wuBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,MAAT,KAAuB,sBAAvB,CACA,MAAOC,CAAAA,OAAP,KAAoB,qBAApB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,KAAK,CAAI,eACUN,QAAQ,CAAC,EAAD,CADlB,wCACfO,QADe,eACLC,WADK,2BAEOP,MAAM,EAFb,CAEdQ,OAFc,SAEdA,OAFc,CAELC,OAFK,SAELA,OAFK,CAGtB,GAAMC,CAAAA,OAAO,CAAGL,KAAK,CAACM,KAAN,CAAYC,MAAZ,CAAmBC,GAAnC,CACAf,SAAS,sEAAC,sKACiBW,CAAAA,OAAO,CAAC,4BAAD,CAA+B,MAA/B,CAAuCK,IAAI,CAACC,SAAL,CAAe,CAAEF,GAAG,CAAEH,OAAP,CAAf,CAAvC,CADxB,QACAM,QADA,eAENT,WAAW,CAACS,QAAD,CAAX,CAFM,sDAAD,GAGN,CAACN,OAAD,CAHM,CAAT,CAIA,GAAGF,OAAH,CAAY,mBAAO,oBAAC,OAAD,MAAP,CACZ,mBACI,oBAAC,KAAD,CAAO,QAAP,mBACI,4CACI,2BAAK,SAAS,CAAC,MAAf,eACI,2BAAK,SAAS,CAAC,aAAf,eACA,8BAAKF,QAAQ,CAACW,KAAd,CADA,CADJ,cAII,2BAAK,SAAS,CAAC,gBAAf,CAAgC,KAAK,CAAE,CAAEC,SAAS,CAAE,OAAb,CAAvC,EACKZ,QAAQ,CAACa,OADd,CAJJ,cAOI,0BAAI,SAAS,CAAC,6BAAd,EACKb,QAAQ,CAACc,YAAT,cAAwB,0BAAI,SAAS,CAAC,iBAAd,0EAA+Cd,QAAQ,CAACc,YAAxD,CAAxB,CAAqG,EAD1G,CAEKd,QAAQ,CAACe,OAAT,cAAmB,0BAAI,SAAS,CAAC,iBAAd,sCAAyCf,QAAQ,CAACe,OAAlD,CAAnB,CAAqF,EAF1F,CAGKf,QAAQ,CAACgB,KAAT,cAAiB,0BAAI,SAAS,CAAC,iBAAd,kDAA2ChB,QAAQ,CAACgB,KAApD,CAAjB,CAAmF,EAHxF,CAIKhB,QAAQ,CAACiB,KAAT,cAAiB,0BAAI,SAAS,CAAC,iBAAd,cAA0CjB,QAAQ,CAACiB,KAAnD,CAAjB,CAAkF,EAJvF,CAKKjB,QAAQ,CAACkB,IAAT,cAAgB,0BAAI,SAAS,CAAC,iBAAd,gCAAwClB,QAAQ,CAACkB,IAAjD,CAAhB,CAA8E,EALnF,CAMKlB,QAAQ,CAACmB,IAAT,cAAgB,0BAAI,SAAS,CAAC,iBAAd,gCAAwCnB,QAAQ,CAACmB,IAAjD,CAAhB,CAA8E,EANnF,CAPJ,CADJ,cAiBI,oBAAC,WAAD,EAAa,IAAI,CAAEnB,QAAnB,EAjBJ,CADJ,cAoBI,oBAAC,YAAD,EAAc,MAAM,CAAEA,QAAQ,CAACoB,GAA/B,EApBJ,CADJ,CAwBH,CAjCD,CAmCA,cAAetB,CAAAA,QAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useAPI } from '../../hooks/api.hook';\r\nimport Spinner from '../Spinners/Spinner';\r\nimport CommentCards from './CommentCards';\r\nimport CommentForm from './CommentForm';\r\n\r\nconst PostPage = props => {\r\n    const [postData, setPostData] = useState({});\r\n    const { loading, request } = useAPI();\r\n    const postUrl = props.match.params.url;\r\n    useEffect(async () => {\r\n        const response = await request('/api/posts/get/review-data', 'POST', JSON.stringify({ url: postUrl }));\r\n        setPostData(response);\r\n    }, [postUrl]);\r\n    if(loading) return <Spinner />\r\n    return (\r\n        <React.Fragment>\r\n            <div>\r\n                <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                    <h2>{postData.title}</h2>\r\n                    </div>\r\n                    <div className=\"card-body lead\" style={{ minHeight: \"297px\" }}>\r\n                        {postData.content}\r\n                    </div>\r\n                    <ul className=\"list-group list-group-flush\">\r\n                        {postData.organisation ? <li className=\"list-group-item\">Организация - {postData.organisation}</li> : ''}\r\n                        {postData.address ? <li className=\"list-group-item\">Адрес - {postData.address}</li> : ''}\r\n                        {postData.phone ? <li className=\"list-group-item\">Телефон - {postData.phone}</li> : ''}\r\n                        {postData.email ? <li className=\"list-group-item\">E-mail - {postData.email}</li> : ''}\r\n                        {postData.site ? <li className=\"list-group-item\">Сайт - {postData.site}</li> : ''}\r\n                        {postData.tags ? <li className=\"list-group-item\">Теги - {postData.tags}</li> : ''}\r\n                    </ul>\r\n                </div>\r\n                <CommentForm post={postData}/>\r\n            </div>\r\n            <CommentCards postId={postData._id}/>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default PostPage;"]},"metadata":{},"sourceType":"module"}